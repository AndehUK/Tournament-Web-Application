<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Tailwind imported CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/styles.css') }}">
	<link rel="stylesheet" href="https://unpkg.com/flowbite@1.3.4/dist/flowbite.min.css" />
    <title>Home&nbsp; Â·&nbsp; CollegeTournaments</title>
</head>
<body>
    <!-- Navigation Bar -->
    <div id="NavBar" class="w-full shadow-lg h-20 flex justify-between">
        <!-- Text on the Left (Title) -->
        <div class="mt-4 ml-32">
          <p class="text-4xl font-bold"><a class="text-dark-purple">College</a>Tournaments</p>
        </div>
        <!-- Logout Button with icon -->
        <div class="inline-flex mr-32">
            <!-- This element directs to /logout, however it is not setup yet, login/logout will be the last thing to be completed. -->
          <a href="/logout"><p class="text-light-purple font-semibold mt-6 mr-1 text-xl">Logout</p></a>
          <img class="w-7" src="{{ url_for('static', filename='img/logout.svg')}}" alt="">
        </div>
  	</div>
	<!-- Container for everything below navbar -->
  	<div style="background-image: url({{ url_for('static', filename='img/background.png') }}); background-size: cover;" class=" flex items-center justify-center w-full h-vh-full">
		<!-- White Background Card -->
		<div class="h-vh mx-auto w-9/12 bg-white shadow-2xl rounded-2xl pl-14 pt-7">
			<!-- Dashboard Title -->
			<h1 class="text-4xl font-bold">Tournament Dashboard</h1>
			<!-- Flex container for 3 cards in the dashboard -->
			<div class="flex h-full">
				<!-- Container for "Participants" card -->
				<div id="Participants" class="bg-light-gray w-88 mt-6 h-85 rounded-lg shadow-2xl overflow-scroll">
					<!-- Header for card, aligns the title and the icons on the same line -->
					<div class="flex justify-between">
						<div class="inline-flex mt-3 ml-5">
							<!-- Icon -->
							<img src="{{ url_for('static', filename='img/participants.svg')}}" class="mr-2" alt="">
							<!-- Title -->
							<h2 class="text-dark-purple text-2xl font-bold">Participants</h2>
						</div>
						<select id="select_participants" class="form-select appearance-none block w-32 mt-2 mr-2 text-base font-normal text-gray-700 bg-white 
																bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 
																focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">
								<option disabled selected>Select</option>
								<option value="pa_individuals">Individuals</option>
								<option value="pa_teams">Teams</option>
						</select>
					</div>
					<div class="flex ml-5 mr-4 break-words">
						<p class="text-gray-500 initial-view" id="initial-view">Select either <strong> INDIVIDUALS </strong> or <strong> TEAMS </strong> from the<br>menu above</p>
					</div>
					<div class="flex individual-view ml-5" id="individual-view">
						<p class="text-gray-500">Individuals: {{ individuals|length }}/20</p>
						{% if individuals|length < 20 %}
						<button class="mb-2 mt-1 ml-1" type="button", data-modal-toggle="create-individual-popup-modal">
							<img src="static/img/adduser.svg">
						</button>
						{% endif %}
					</div>
					<div class="inline-flex team-view ml-5" id="team-view">
						<p class="text-gray-500">Teams: {{ teams|length }}/4</p>
						{% if teams|length < 4 %}
						<button class="mb-2 mt-1 ml-1" type="button", data-modal-toggle="create-team-popup-modal">
							<img src="static/img/adduser.svg">
						</button>
						{% endif %}
					</div>
					<table class="text-left table-auto ml-5 pa_individuals" style="border-collapse:collapse; width:100%;">
						<thead>
							<tr>
								<th>Name</th>
								<th class="relative" style="right: 2.75rem;">Actions</th>
							</tr>
						</thead>
						<tbody>
							{% set id_count = namespace(count=1) %}
							{% for x in individuals %}
								<tr class="flex justify-between">
									<td>
										{{ x.name }}
									</td>
									<td class="" style="padding-left: 13rem;">
										<button class="mb-2" type="button", data-modal-toggle="edit-popup-modal-{{ id_count.count }}">
											<img src="static/img/add.svg">
										</button>
										<button class="mb-2" type="button", data-modal-toggle="delete-popup-modal-{{ id_count.count }}">
											<img src="static/img/delete.svg">
										</button>
									</td>
								</tr>
								{% set id_count.count = id_count.count+1 %}
							{% endfor %}
						</tbody>
					</table>
					<table class="text-left table-auto ml-5 pa_teams" style="border-collapse:collapse; width:100%;">
						<thead>
							<tr>
								<th>Name</th>
								<th class="relative" style="right: 2.75rem;">Actions</th>
							</tr>
						</thead>
						<tbody>
							{% set id_count = namespace(count=1) %}
							{% for x in teams %}
								<tr class="flex justify-between">
									<td>
										{{ x.name }}
									</td>
									<td class="" style="padding-left: 10rem;">
										<button class="mb-2" type="button", data-modal-toggle="edit-popup-modal-{{ id_count.count }}">
											<img src="static/img/add.svg">
										</button>
										<button class="mb-2" type="button", data-modal-toggle="delete-popup-modal-{{ id_count.count }}">
											<img src="static/img/delete.svg">
										</button>
									</td>
								</tr>
								{% set id_count.count = id_count.count+1 %}
							{% endfor %}
						</tbody>
					</table>
				</div>
				<!-- Container for "Leaderboard" card -->
				<div id="Leaderboard" class="bg-light-gray w-100 mt-6 h-85 rounded-lg shadow-2xl overflow-scroll ml-10">
					<div class="flex justify-between">
						<div class="inline-flex mt-3 ml-5">
							<img src="{{ url_for('static', filename='img/leaderboard.svg')}}" class="mr-2" alt="">
							<h2 class="text-dark-purple text-2xl font-bold">Leaderboard</h2>
						</div>
						<select id="select_leaderboard" class="form-select appearance-none block w-32 mt-2 mr-2 text-base font-normal text-gray-700 
															 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded 
															 transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 
															 focus:outline-none">
							<option disabled selected>Select</option>
							<option value="le_individuals">Individuals</option>
							<option value="le_teams">Teams</option>
						</select>
					</div>
					<div class="inline-flex ml-5" id="leaderboard-initial">
						<p class="text-gray-500">Select either <strong>INDIVIDUALS</strong> or <strong>TEAMS</strong> from the menu above</p>
					</div>
					<div class="le_individuals">
						{% set num = namespace(count=1) %} <!-- Counter to help decipher when to assign an element a top 3 medal -->
						{% for x in li %} <!-- Looping through the point ordered individual list -->
							{% if num.count == 1 %} <!-- Determines first place participant to assign a medal next to their name -->
								<div class="mt-3 ml-5 text-gold flex justify-between">
									<div class="inline-flex">
										<img src="{{ url_for('static', filename='img/firstplace.svg')}}" alt="">
										<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
									</div>
									<p class="mr-5" style="font-size: 1.125rem;">{{ x.points }}</p>
								</div> 
								{% set num.count = num.count+1 %} <!-- Increases the defined variable by 1 -->
							{% elif num.count == 2 %} <!-- Determines second place participant to assign a medal next to their name -->
								<div class="mt-3 ml-5 text-silver flex justify-between">
									<div class="inline-flex">
										<img src="{{ url_for('static', filename='img/secondplace.svg')}}" alt="">
										<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
									</div>
									<p class="mr-5"  style="font-size: 1.125rem;">{{ x.points }}</p>
								</div>
								{% set num.count = num.count+1 %}
							{% elif num.count == 3 %} <!-- Determines third place participant to assign a medal next to their name -->
								<div class="mt-3 ml-5 text-bronze flex justify-between">
									<div class="inline-flex">
										<img src="{{ url_for('static', filename='img/thirdplace.svg')}}" alt="">
										<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
									</div>
									<p class="mr-5" style="font-size: 1.125rem;">{{ x.points }}</p>
								</div>
								{% set num.count = num.count+1 %}
							{% else %}
								<div class="mt-3 ml-5 text-gray-500 flex justify-between">
									<div class="inline-flex">
										<p>{{ num.count }}</p>
										<p class="ml-3 font-semibold">{{ x.name }}</p>
									</div>
									<p class="mr-5">{{ x.points }}</p>
								</div>
								{% set num.count = num.count+1 %}
							{% endif %}
						{% endfor %}
					</div>
					<div class="le_teams">
						{% set num = namespace(count=1) %}
						{% for x in lt %}
						{% if num.count == 1 %}
							<div class="mt-3 ml-5 text-gold flex justify-between">
								<div class="inline-flex">
									<img src="{{ url_for('static', filename='img/firstplace.svg')}}" alt="">
									<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
								</div>
								<p class="mr-5" style="font-size: 1.125rem;">{{ x.points }}</p>
							</div>
							{% set num.count = num.count+1 %}
						{% elif num.count == 2 %}
							<div class="mt-3 ml-5 text-silver flex justify-between">
								<div class="inline-flex">
									<img src="{{ url_for('static', filename='img/secondplace.svg')}}" alt="">
									<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
								</div>
								<p class="mr-5" style="font-size: 1.125rem;">{{ x.points }}</p>
							</div>
							{% set num.count = num.count+1 %}
						{% elif num.count == 3 %}
							<div class="mt-3 ml-5 text-bronze flex justify-between">
								<div class="inline-flex">
									<img src="{{ url_for('static', filename='img/thirdplace.svg')}}" alt="">
									<p class="ml-3 font-semibold" style="font-size: 1.125rem;">{{ x.name }}</p>
								</div>
								<p class="mr-5" style="font-size: 1.125rem;">{{ x.points }}</p>
							</div>
							{% set num.count = num.count+1 %}
						{% else %}
							<div class="mt-3 ml-5 text-gray-500 flex justify-between">
								<div class="inline-flex">
									<p>{{ num.count }}</p>
									<p class="ml-3 font-semibold">{{ x.name }}</p>
								</div>
								<p class="mr-5">{{ x.points }}</p>
							</div>
							{% set num.count = num.count+1 %}
						{% endif %}
						{% endfor %}
					</div>
				</div>
				<!-- Container for "Events" card -->
				<div id="events" class="bg-light-gray w-90 mt-6 h-85 rounded-lg shadow-2xl overflow-scroll ml-10">
					<div class="flex justify-between">
						<div class="inline-flex mt-3 ml-5">
							<!-- Icon -->
							<img src="{{ url_for('static', filename='img/events.svg')}}" class="mr-2" alt="">
							<!-- Title -->
							<h2 class="text-dark-purple text-2xl font-bold">Events</h2>
						</div>
						<select id="select_event" class="form-select appearance-none block w-32 mt-2 mr-2 text-base font-normal text-gray-700 bg-white 
																bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 
																focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">
								<option disabled selected>Select</option>
								<option value="pa_individuals">Individuals</option>
								<option value="pa_teams">Teams</option>
						</select>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="{{url_for('static', filename='js/main.js')}}"></script>
</body>
</html>
